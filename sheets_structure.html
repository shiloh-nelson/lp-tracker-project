<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LP Tracker - Hybrid Google Sheets Structure</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .sheet-section {
            background: white;
            margin-bottom: 30px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .sheet-header {
            background: #4285f4;
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 18px;
        }
        .main-sheet {
            background: #0f9d58;
        }
        .api-sheet {
            background: #ff6d00;
        }
        .sheet-description {
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
            color: #666;
        }
        .table-container {
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        th {
            background: #e8f0fe;
            padding: 8px 6px;
            text-align: left;
            font-weight: 600;
            border-right: 1px solid #dadce0;
            white-space: nowrap;
            font-size: 11px;
        }
        td {
            padding: 6px;
            border-right: 1px solid #dadce0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 11px;
        }
        .sample-data {
            background: #fafafa;
        }
        .column-type {
            font-size: 9px;
            color: #666;
            font-style: italic;
        }
        .notes {
            padding: 15px 20px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            margin: 20px;
            border-radius: 0 4px 4px 0;
        }
        .workflow-note {
            background: #d4edda;
            border-left-color: #28a745;
        }
        .formula-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #333; margin-bottom: 30px;">LP Tracker - Hybrid 5-Sheet Structure</h1>
        
        <!-- Main Working Sheet -->
        <div class="sheet-section">
            <div class="sheet-header main-sheet">Sheet 1: "Main_Data" - Your Working Sheet (Where You Actually Work)</div>
            <div class="sheet-description">
                <strong>This is your primary workspace.</strong> Add LP positions, log all transactions, update values. Natural spreadsheet layout with everything together.
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>A<br><span class="column-type">Position ID</span></th>
                            <th>B<br><span class="column-type">Pair</span></th>
                            <th>C<br><span class="column-type">Chain</span></th>
                            <th>D<br><span class="column-type">Status</span></th>
                            <th>E<br><span class="column-type">Open Date</span></th>
                            <th>F<br><span class="column-type">Close Date</span></th>
                            <th>G<br><span class="column-type">Token1</span></th>
                            <th>H<br><span class="column-type">Token1 Amt</span></th>
                            <th>I<br><span class="column-type">Token2</span></th>
                            <th>J<br><span class="column-type">Token2 Amt</span></th>
                            <th>K<br><span class="column-type">Initial USD</span></th>
                            <th>L<br><span class="column-type">Initial Tx</span></th>
                            <th>M<br><span class="column-type">Activity Date</span></th>
                            <th>N<br><span class="column-type">Activity Type</span></th>
                            <th>O<br><span class="column-type">Activity Tx</span></th>
                            <th>P<br><span class="column-type">USD Out</span></th>
                            <th>Q<br><span class="column-type">USD In</span></th>
                            <th>R<br><span class="column-type">Gas USD</span></th>
                            <th>S<br><span class="column-type">Pool Value</span></th>
                            <th>T<br><span class="column-type">Reward Token</span></th>
                            <th>U<br><span class="column-type">Reward Amt</span></th>
                            <th>V<br><span class="column-type">Reward USD</span></th>
                            <th>W<br><span class="column-type">Notes</span></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>ETH-USDC</td>
                            <td>Arbitrum</td>
                            <td>Closed</td>
                            <td>2024-01-15</td>
                            <td>2024-03-10</td>
                            <td>ETH</td>
                            <td>1.0</td>
                            <td>USDC</td>
                            <td>3800</td>
                            <td>7600</td>
                            <td>0x1234...abcd</td>
                            <td>2024-01-15</td>
                            <td>Add Liquidity</td>
                            <td>0x1234...abcd</td>
                            <td>7600</td>
                            <td></td>
                            <td>12.50</td>
                            <td>7600</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Initial deposit</td>
                        </tr>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>ETH-USDC</td>
                            <td>Arbitrum</td>
                            <td>Closed</td>
                            <td>2024-01-15</td>
                            <td>2024-03-10</td>
                            <td>ETH</td>
                            <td>1.0</td>
                            <td>USDC</td>
                            <td>3800</td>
                            <td>7600</td>
                            <td>0x1234...abcd</td>
                            <td>2024-02-01</td>
                            <td>Claim Rewards</td>
                            <td>0x5678...efgh</td>
                            <td></td>
                            <td></td>
                            <td>2.45</td>
                            <td>7720</td>
                            <td>AERO</td>
                            <td>125</td>
                            <td>87.50</td>
                            <td>Weekly claim</td>
                        </tr>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>ETH-USDC</td>
                            <td>Arbitrum</td>
                            <td>Closed</td>
                            <td>2024-01-15</td>
                            <td>2024-03-10</td>
                            <td>ETH</td>
                            <td>1.0</td>
                            <td>USDC</td>
                            <td>3800</td>
                            <td>7600</td>
                            <td>0x1234...abcd</td>
                            <td>2024-03-10</td>
                            <td>Remove Liquidity</td>
                            <td>0x9abc...ijkl</td>
                            <td></td>
                            <td>7850</td>
                            <td>8.20</td>
                            <td>0</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Full withdrawal</td>
                        </tr>
                        <tr class="sample-data">
                            <td>LP002</td>
                            <td>WBTC-ETH</td>
                            <td>Base</td>
                            <td>Active</td>
                            <td>2024-02-20</td>
                            <td></td>
                            <td>WBTC</td>
                            <td>0.25</td>
                            <td>ETH</td>
                            <td>3.2</td>
                            <td>18500</td>
                            <td>0xdef0...mnop</td>
                            <td>2024-02-20</td>
                            <td>Add Liquidity</td>
                            <td>0xdef0...mnop</td>
                            <td>18500</td>
                            <td></td>
                            <td>15.80</td>
                            <td>18500</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>Initial deposit</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- API Sheet 1 -->
        <div class="sheet-section">
            <div class="sheet-header api-sheet">Sheet 2: "API_Positions" - Auto-Generated Position Summary</div>
            <div class="sheet-description">
                <strong>Web app reads this.</strong> Auto-populated using formulas from Main_Data. One row per unique Position ID.
            </div>
            <div class="formula-example">
                Row 2 formula example: <span class="highlight">=QUERY(Main_Data!A:W,"SELECT A,B,C,D,E,F,G,H,I,J,K,L WHERE A IS NOT NULL",0)</span>
                <br>Then use UNIQUE() to get one row per Position ID
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Position ID</th>
                            <th>Pair</th>
                            <th>Chain</th>
                            <th>Status</th>
                            <th>Open Date</th>
                            <th>Close Date</th>
                            <th>Token1</th>
                            <th>Token1 Amount</th>
                            <th>Token2</th>
                            <th>Token2 Amount</th>
                            <th>Initial USD</th>
                            <th>Initial Tx</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>ETH-USDC</td>
                            <td>Arbitrum</td>
                            <td>Closed</td>
                            <td>2024-01-15</td>
                            <td>2024-03-10</td>
                            <td>ETH</td>
                            <td>1.0</td>
                            <td>USDC</td>
                            <td>3800</td>
                            <td>7600</td>
                            <td>0x1234...abcd</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- API Sheet 2 -->
        <div class="sheet-section">
            <div class="sheet-header api-sheet">Sheet 3: "API_Activities" - Auto-Generated Activity Log</div>
            <div class="sheet-description">
                <strong>Web app reads this.</strong> All activities extracted from Main_Data where Activity Date is not empty.
            </div>
            <div class="formula-example">
                Formula: <span class="highlight">=QUERY(Main_Data!A:W,"SELECT A,M,N,O,P,Q,R,S,W WHERE M IS NOT NULL ORDER BY A,M",0)</span>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Position ID</th>
                            <th>Activity Date</th>
                            <th>Activity Type</th>
                            <th>Transaction Hash</th>
                            <th>USD Out</th>
                            <th>USD In</th>
                            <th>Gas USD</th>
                            <th>Pool Value</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>2024-01-15</td>
                            <td>Add Liquidity</td>
                            <td>0x1234...abcd</td>
                            <td>7600</td>
                            <td></td>
                            <td>12.50</td>
                            <td>7600</td>
                            <td>Initial deposit</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- API Sheet 3 -->
        <div class="sheet-section">
            <div class="sheet-header api-sheet">Sheet 4: "API_Rewards" - Auto-Generated Rewards</div>
            <div class="sheet-description">
                <strong>Web app reads this.</strong> All reward claims extracted from Main_Data where Reward Token is not empty.
            </div>
            <div class="formula-example">
                Formula: <span class="highlight">=QUERY(Main_Data!A:W,"SELECT A,M,T,U,V,O WHERE T IS NOT NULL ORDER BY A,M",0)</span>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Position ID</th>
                            <th>Date</th>
                            <th>Reward Token</th>
                            <th>Amount</th>
                            <th>USD Value</th>
                            <th>Transaction Hash</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="sample-data">
                            <td>LP001</td>
                            <td>2024-02-01</td>
                            <td>AERO</td>
                            <td>125</td>
                            <td>87.50</td>
                            <td>0x5678...efgh</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- API Sheet 4 -->
        <div class="sheet-section">
            <div class="sheet-header api-sheet">Sheet 5: "API_Prices" - Current Token Prices</div>
            <div class="sheet-description">
                <strong>Web app reads this.</strong> You manually maintain current token prices here, or use GOOGLEFINANCE() formulas.
            </div>
            <div class="formula-example">
                Example: <span class="highlight">=GOOGLEFINANCE("CURRENCY:ETHUSD")</span> for live ETH price
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Token</th>
                            <th>Price USD</th>
                            <th>Last Updated</th>
                            <th>Source</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="sample-data">
                            <td>ETH</td>
                            <td>3850.00</td>
                            <td>=NOW()</td>
                            <td>GOOGLEFINANCE</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="notes workflow-note">
            <h3>Your Daily Workflow:</h3>
            <ol>
                <li><strong>New LP Position:</strong> Add a new row in Main_Data with Position ID, pair info, initial deposit details</li>
                <li><strong>Log Activity:</strong> Add new rows for the same Position ID with activity details (fee checks, withdrawals, etc.)</li>
                <li><strong>Claim Rewards:</strong> Add activity row with reward token details filled in</li>
                <li><strong>Monitor:</strong> API sheets automatically update, web app shows current status</li>
            </ol>
            <p><strong>You never touch the API sheets</strong> - they're just "views" of your main data formatted for the web app.</p>
        </div>

        <div class="notes">
            <h3>Key Benefits:</h3>
            <ul>
                <li><strong>Natural data entry:</strong> Work in one sheet with all related info together</li>
                <li><strong>Single source of truth:</strong> All data lives in Main_Data</li>
                <li><strong>Clean API access:</strong> Web app gets normalized, predictable data</li>
                <li><strong>Automatic updates:</strong> API sheets refresh when you change main data</li>
                <li><strong>Flexible structure:</strong> Can add columns to Main_Data without breaking API</li>
            </ul>
        </div>

    </div>
</body>
</html>